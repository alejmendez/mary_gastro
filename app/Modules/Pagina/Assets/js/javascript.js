function initialise(){createRenderer(),createScene(),createMesh(),createLights(),addEventListeners(),resize(containerFSS.offsetWidth,containerFSS.offsetHeight),animateFSS()}function createRenderer(){canvasRenderer=new FSS.CanvasRenderer,setRenderer(RENDER.renderer)}function setRenderer(){rendererFSS&&output.removeChild(rendererFSS.element),rendererFSS=canvasRenderer,rendererFSS.setSize(containerFSS.offsetWidth,containerFSS.offsetHeight),output.appendChild(rendererFSS.element)}function createScene(){sceneFSS=new FSS.Scene}function createMesh(){sceneFSS.remove(mesh),rendererFSS.clear(),geometry=new FSS.Plane(MESH.width*rendererFSS.width,MESH.height*rendererFSS.height,MESH.segments,MESH.slices),material=new FSS.Material(MESH.ambient,MESH.diffuse),mesh=new FSS.Mesh(geometry,material),sceneFSS.add(mesh);var e,t;for(e=geometry.vertices.length-1;e>=0;e--)t=geometry.vertices[e],t.anchor=FSS.Vector3.clone(t.position),t.step=FSS.Vector3.create(Math.randomInRange(.2,1),Math.randomInRange(.2,1),Math.randomInRange(.2,1)),t.time=Math.randomInRange(0,Math.PIM2)}function createLights(){var e,t;for(e=sceneFSS.lights.length-1;e>=0;e--)t=sceneFSS.lights[e],sceneFSS.remove(t);for(rendererFSS.clear(),e=0;e<LIGHT.count;e++)t=new FSS.Light(LIGHT.ambient,LIGHT.diffuse),t.ambientHex=t.ambient.format(),t.diffuseHex=t.diffuse.format(),sceneFSS.add(t),t.mass=Math.randomInRange(.5,1),t.velocity=FSS.Vector3.create(),t.acceleration=FSS.Vector3.create(),t.force=FSS.Vector3.create(),t.ring=document.createElementNS(FSS.SVGNS,"circle"),t.ring.setAttributeNS(null,"stroke",t.ambientHex),t.ring.setAttributeNS(null,"stroke-width","0.5"),t.ring.setAttributeNS(null,"fill","none"),t.ring.setAttributeNS(null,"r","10"),t.core=document.createElementNS(FSS.SVGNS,"circle"),t.core.setAttributeNS(null,"fill",t.diffuseHex),t.core.setAttributeNS(null,"r","4")}function resize(e,t){rendererFSS.setSize(e,t),FSS.Vector3.set(center,rendererFSS.halfWidth,rendererFSS.halfHeight),createMesh()}function animateFSS(){now=Date.now()-start,update(),renderFSS(),requestAnimationFrame(animateFSS)}function update(){var e,t,i,r,n,s,a,o=MESH.depth/2;for(FSS.Vector3.copy(LIGHT.bounds,center),FSS.Vector3.multiplyScalar(LIGHT.bounds,LIGHT.xyScalar),FSS.Vector3.setZ(attractor,LIGHT.zOffset),LIGHT.autopilot&&(e=Math.sin(LIGHT.step[0]*now*LIGHT.speed),t=Math.cos(LIGHT.step[1]*now*LIGHT.speed),FSS.Vector3.set(attractor,LIGHT.bounds[0]*e,LIGHT.bounds[1]*t,LIGHT.zOffset)),r=sceneFSS.lights.length-1;r>=0;r--){n=sceneFSS.lights[r],FSS.Vector3.setZ(n.position,LIGHT.zOffset);var l=Math.clamp(FSS.Vector3.distanceSquared(n.position,attractor),LIGHT.minDistance,LIGHT.maxDistance),h=LIGHT.gravity*n.mass/l;FSS.Vector3.subtractVectors(n.force,attractor,n.position),FSS.Vector3.normalise(n.force),FSS.Vector3.multiplyScalar(n.force,h),FSS.Vector3.set(n.acceleration),FSS.Vector3.add(n.acceleration,n.force),FSS.Vector3.add(n.velocity,n.acceleration),FSS.Vector3.multiplyScalar(n.velocity,LIGHT.dampening),FSS.Vector3.limit(n.velocity,LIGHT.minLimit,LIGHT.maxLimit),FSS.Vector3.add(n.position,n.velocity)}for(s=geometry.vertices.length-1;s>=0;s--)a=geometry.vertices[s],e=Math.sin(a.time+a.step[0]*now*MESH.speed),t=Math.cos(a.time+a.step[1]*now*MESH.speed),i=Math.sin(a.time+a.step[2]*now*MESH.speed),FSS.Vector3.set(a.position,MESH.xRange*geometry.segmentWidth*e,MESH.yRange*geometry.sliceHeight*t,MESH.zRange*o*i-o),FSS.Vector3.add(a.position,a.anchor);geometry.dirty=!0}function renderFSS(){if(rendererFSS.render(sceneFSS),LIGHT.draw){var e,t,i,r;for(e=sceneFSS.lights.length-1;e>=0;e--)r=sceneFSS.lights[e],t=r.position[0],i=r.position[1],rendererFSS.context.lineWidth=.5,rendererFSS.context.beginPath(),rendererFSS.context.arc(t,i,10,0,Math.PIM2),rendererFSS.context.strokeStyle=r.ambientHex,rendererFSS.context.stroke(),rendererFSS.context.beginPath(),rendererFSS.context.arc(t,i,4,0,Math.PIM2),rendererFSS.context.fillStyle=r.diffuseHex,rendererFSS.context.fill()}}function addEventListeners(){window.addEventListener("resize",onWindowResizFSS)}function onWindowResizFSS(){resize(containerFSS.offsetWidth,containerFSS.offsetHeight),renderFSS()}jQuery(document).ready(function(e){function t(){r(e(".cd-headline.letters").find("b")),n(e(".cd-headline"))}function r(t){t.each(function(){var t=e(this),r=t.text().split(""),n=t.hasClass("is-visible");for(i in r)t.parents(".rotate-2").length>0&&(r[i]="<em>"+r[i]+"</em>"),r[i]=n?'<i class="in">'+r[i]+"</i>":"<i>"+r[i]+"</i>";var s=r.join("");t.html(s).css("opacity",1)})}function n(t){var i=u;t.each(function(){var t=e(this);if(t.hasClass("loading-bar"))i=d,setTimeout(function(){t.find(".cd-words-wrapper").addClass("is-loading")},S);else if(t.hasClass("clip")){var r=t.find(".cd-words-wrapper"),n=r.width()+10;r.css("width",n)}else if(!t.hasClass("type")){var a=t.find(".cd-words-wrapper b"),o=0;a.each(function(){var t=e(this).width();t>o&&(o=t)}),t.find(".cd-words-wrapper").css("width",o)}setTimeout(function(){s(t.find(".is-visible").eq(0))},i)})}function s(e){var t=h(e);if(e.parents(".cd-headline").hasClass("type")){var i=e.parent(".cd-words-wrapper");i.addClass("selected").removeClass("waiting"),setTimeout(function(){i.removeClass("selected"),e.removeClass("is-visible").addClass("is-hidden").children("i").removeClass("in").addClass("out")},p),setTimeout(function(){a(t,m)},g)}else if(e.parents(".cd-headline").hasClass("letters")){var r=e.children("i").length>=t.children("i").length?!0:!1;o(e.find("i").eq(0),e,r,f),l(t.find("i").eq(0),t,r,f)}else e.parents(".cd-headline").hasClass("clip")?e.parents(".cd-words-wrapper").animate({width:"2px"},F,function(){c(e,t),a(t)}):e.parents(".cd-headline").hasClass("loading-bar")?(e.parents(".cd-words-wrapper").removeClass("is-loading"),c(e,t),setTimeout(function(){s(t)},d),setTimeout(function(){e.parents(".cd-words-wrapper").addClass("is-loading")},S)):(c(e,t),setTimeout(function(){s(t)},u))}function a(e,t){e.parents(".cd-headline").hasClass("type")?(l(e.find("i").eq(0),e,!1,t),e.addClass("is-visible").removeClass("is-hidden")):e.parents(".cd-headline").hasClass("clip")&&e.parents(".cd-words-wrapper").animate({width:e.width()+10},F,function(){setTimeout(function(){s(e)},v)})}function o(t,i,r,n){if(t.removeClass("in").addClass("out"),t.is(":last-child")?r&&setTimeout(function(){s(h(i))},u):setTimeout(function(){o(t.next(),i,r,n)},n),t.is(":last-child")&&e("html").hasClass("no-csstransitions")){var a=h(i);c(i,a)}}function l(e,t,i,r){e.addClass("in").removeClass("out"),e.is(":last-child")?(t.parents(".cd-headline").hasClass("type")&&setTimeout(function(){t.parents(".cd-words-wrapper").addClass("waiting")},200),i||setTimeout(function(){s(t)},u)):setTimeout(function(){l(e.next(),t,i,r)},r)}function h(e){return e.is(":last-child")?e.parent().children().eq(0):e.next()}function c(e,t){e.removeClass("is-visible").addClass("is-hidden"),t.removeClass("is-hidden").addClass("is-visible")}var u=2500,d=3800,S=d-3e3,f=50,m=150,p=500,g=p+800,F=600,v=1500;t()}),function(e){e.fn.downCount=function(t,i){function r(){var t=new Date(n.date),r=h(),l=t-r;if(0>l)return clearInterval(c),void(i&&"function"==typeof i&&i());var u=1e3,d=60*u,S=60*d,f=24*S,m=u/100,p=Math.floor(l/f),g=Math.floor(l%f/S),F=Math.floor(l%S/d),v=Math.floor(l%d/u),b=Math.floor(l%d/m);p=String(p).length>=2?p:"0"+p,g=String(g).length>=2?g:"0"+g,F=String(F).length>=2?F:"0"+F,v=String(v).length>=2?v:"0"+v;var y=1===p?"day":"days",w=1===g?"hour":"hours",C=1===F?"minute":"minutes",x=1===v?"second":"seconds";0==b&&(b=6e3),0==v&&(v=60),v%60==0&&a--,0==F&&(F=60),F%60==0&&59==v&&o--,s.find(".days").text(p),s.find(".hours").text(g),s.find(".minutes").text(F),s.find(".seconds").text(v),s.find(".days_ref").text(y),s.find(".hours_ref").text(w),s.find(".minutes_ref").text(C),s.find(".seconds_ref").text(x);var R=360*o+6*F+"deg",V=360*a+6*v+"deg";s.find(".c-minute").css({transform:"rotate("+R+")","-webkit-transform":"rotate("+R+")","-ms-transform":"rotate("+R+")","-moz-transform":"rotate("+R+")"}),s.find(".c-second").css({transform:"rotate("+V+")","-webkit-transform":"rotate("+V+")","-ms-transform":"rotate("+V+")","-moz-transform":"rotate("+V+")"}),e(".second .knob").val(b).trigger("change")}var n=e.extend({date:null,offset:null},t);n.date||e.error("Date is not defined."),Date.parse(n.date)||e.error("Incorrect date format, it should look like this, 12/24/2012 12:00:00.");var s=this,a=-1,o=-1,l=0;e(".site-config").attr("data-date-timezone")&&""!=e(".site-config").attr("data-date-timezone")&&(l=e(".site-config").attr("data-date-timezone"));var h=function(){var e=new Date,t=e.getTime()+6e4*e.getTimezoneOffset()-36e6+36e5*l,i=new Date(t+36e5*n.offset);return i};if(e(".clock-container").length||e(".alt-clock").length)var c=setInterval(r,250);else var c=setInterval(r,250)}}(jQuery),function(e){"use strict";e.ajaxChimp={responses:{"We have sent you a confirmation email":0,"Please enter a value":1,"An email address must contain a single @":2,"The domain portion of the email address is invalid (the portion after the @: )":3,"The username portion of the email address is invalid (the portion before the @: )":4,"This email address looks fake or invalid. Please enter a real email address":5},translations:{en:null},init:function(t,i){e(t).ajaxChimp(i)}},e.fn.ajaxChimp=function(t){return e(this).each(function(i,r){var n=e(r),s=n.find("input[type=email]"),a=n.find("label[for="+s.attr("id")+"]"),o=e.extend({url:n.attr("action"),language:"en"},t),l=o.url.replace("/post?","/post-json?").concat("&c=?");n.attr("novalidate","true"),s.attr("name","EMAIL"),n.submit(function(){function t(t){if("success"===t.result)i="We have sent you a confirmation email",a.removeClass("error").addClass("valid"),s.removeClass("error").addClass("valid");else{s.removeClass("valid").addClass("error"),a.removeClass("valid").addClass("error");var r=-1;try{var n=t.msg.split(" - ",2);if(void 0===n[1])i=t.msg;else{var l=parseInt(n[0],10);l.toString()===n[0]?(r=n[0],i=n[1]):(r=-1,i=t.msg)}}catch(h){r=-1,i=t.msg}}"en"!==o.language&&void 0!==e.ajaxChimp.responses[i]&&e.ajaxChimp.translations&&e.ajaxChimp.translations[o.language]&&e.ajaxChimp.translations[o.language][e.ajaxChimp.responses[i]]&&(i=e.ajaxChimp.translations[o.language][e.ajaxChimp.responses[i]]),a.html(i),a.show(2e3),o.callback&&o.callback(t)}var i,r={},h=n.serializeArray();e.each(h,function(e,t){r[t.name]=t.value}),e.ajax({url:l,data:r,success:t,dataType:"jsonp",error:function(e,t){console.log("mailchimp ajax submit error: "+t)}});var c="Submitting...";return"en"!==o.language&&e.ajaxChimp.translations&&e.ajaxChimp.translations[o.language]&&e.ajaxChimp.translations[o.language].submit&&(c=e.ajaxChimp.translations[o.language].submit),a.html(c).show(2e3),!1})}),this}}(jQuery),function(e,t,i,r){"use strict";var n=e("#contact-form");n.submit(function(t){e(".form-group").removeClass("has-error"),e(".help-block").remove();var i={name:e('input[name="form-name"]').val(),email:e('input[name="form-email"]').val(),phone:e('input[name="form-phone"]').val(),message:e('textarea[name="form-message"]').val()};e.ajax({type:"POST",url:"process.php",data:i,dataType:"json",encode:!0}).done(function(t){t.success?n.html('<div class="alert alert-success">'+t.message+"</div>"):(t.errors.name&&(e("#name-field").addClass("has-error"),e("#name-field").find(".form-input").append('<span class="help-block">'+t.errors.name+"</span>")),t.errors.email&&(e("#email-field").addClass("has-error"),e("#email-field").find(".form-input").append('<span class="help-block">'+t.errors.email+"</span>")),t.errors.phone&&(e("#phone-field").addClass("has-error"),e("#phone-field").find(".form-input").append('<span class="help-block">'+t.errors.phone+"</span>")),t.errors.message&&(e("#message-field").addClass("has-error"),e("#message-field").find(".form-input").append('<span class="help-block">'+t.errors.message+"</span>")))}).fail(function(e){console.log(e)}),t.preventDefault()})}(jQuery,window,document),FSS={FRONT:0,BACK:1,DOUBLE:2,SVGNS:"http://www.w3.org/2000/svg"},FSS.Array="function"==typeof Float32Array?Float32Array:Array,FSS.Utils={isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;t.length>i&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var i=(new Date).getTime(),r=Math.max(0,16-(i-e)),n=window.setTimeout(function(){t(i+r)},r);return e=i+r,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),Math.PIM2=2*Math.PI,Math.PID2=Math.PI/2,Math.randomInRange=function(e,t){return e+(t-e)*Math.random()},Math.clamp=function(e,t,i){return e=Math.max(e,t),e=Math.min(e,i)},FSS.Vector3={create:function(e,t,i){var r=new FSS.Array(3);return this.set(r,e,t,i),r},clone:function(e){var t=this.create();return this.copy(t,e),t},set:function(e,t,i,r){return e[0]=t||0,e[1]=i||0,e[2]=r||0,this},setX:function(e,t){return e[0]=t||0,this},setY:function(e,t){return e[1]=t||0,this},setZ:function(e,t){return e[2]=t||0,this},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],this},add:function(e,t){return e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],this},addVectors:function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],this},addScalar:function(e,t){return e[0]+=t,e[1]+=t,e[2]+=t,this},subtract:function(e,t){return e[0]-=t[0],e[1]-=t[1],e[2]-=t[2],this},subtractVectors:function(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],this},subtractScalar:function(e,t){return e[0]-=t,e[1]-=t,e[2]-=t,this},multiply:function(e,t){return e[0]*=t[0],e[1]*=t[1],e[2]*=t[2],this},multiplyVectors:function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],this},multiplyScalar:function(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,this},divide:function(e,t){return e[0]/=t[0],e[1]/=t[1],e[2]/=t[2],this},divideVectors:function(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],this},divideScalar:function(e,t){return 0!==t?(e[0]/=t,e[1]/=t,e[2]/=t):(e[0]=0,e[1]=0,e[2]=0),this},cross:function(e,t){var i=e[0],r=e[1],n=e[2];return e[0]=r*t[2]-n*t[1],e[1]=n*t[0]-i*t[2],e[2]=i*t[1]-r*t[0],this},crossVectors:function(e,t,i){return e[0]=t[1]*i[2]-t[2]*i[1],e[1]=t[2]*i[0]-t[0]*i[2],e[2]=t[0]*i[1]-t[1]*i[0],this},min:function(e,t){return t>e[0]&&(e[0]=t),t>e[1]&&(e[1]=t),t>e[2]&&(e[2]=t),this},max:function(e,t){return e[0]>t&&(e[0]=t),e[1]>t&&(e[1]=t),e[2]>t&&(e[2]=t),this},clamp:function(e,t,i){return this.min(e,t),this.max(e,i),this},limit:function(e,t,i){var r=this.length(e);return null!==t&&t>r?this.setLength(e,t):null!==i&&r>i&&this.setLength(e,i),this},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},normalise:function(e){return this.divideScalar(e,this.length(e))},negate:function(e){return this.multiplyScalar(e,-1)},distanceSquared:function(e,t){var i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return i*i+r*r+n*n},distance:function(e,t){return Math.sqrt(this.distanceSquared(e,t))},lengthSquared:function(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]},length:function(e){return Math.sqrt(this.lengthSquared(e))},setLength:function(e,t){var i=this.length(e);return 0!==i&&t!==i&&this.multiplyScalar(e,t/i),this}},FSS.Vector4={create:function(e,t,i){var r=new FSS.Array(4);return this.set(r,e,t,i),r},set:function(e,t,i,r,n){return e[0]=t||0,e[1]=i||0,e[2]=r||0,e[3]=n||0,this},setX:function(e,t){return e[0]=t||0,this},setY:function(e,t){return e[1]=t||0,this},setZ:function(e,t){return e[2]=t||0,this},setW:function(e,t){return e[3]=t||0,this},add:function(e,t){return e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],e[3]+=t[3],this},multiplyVectors:function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],this},multiplyScalar:function(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=t,this},min:function(e,t){return t>e[0]&&(e[0]=t),t>e[1]&&(e[1]=t),t>e[2]&&(e[2]=t),t>e[3]&&(e[3]=t),this},max:function(e,t){return e[0]>t&&(e[0]=t),e[1]>t&&(e[1]=t),e[2]>t&&(e[2]=t),e[3]>t&&(e[3]=t),this},clamp:function(e,t,i){return this.min(e,t),this.max(e,i),this}},FSS.Color=function(e,t){this.rgba=FSS.Vector4.create(),this.hex=e||"#000000",this.opacity=FSS.Utils.isNumber(t)?t:1,this.set(this.hex,this.opacity)},FSS.Color.prototype={set:function(e,t){e=e.replace("#","");var i=e.length/3;return this.rgba[0]=parseInt(e.substring(0*i,1*i),16)/255,this.rgba[1]=parseInt(e.substring(1*i,2*i),16)/255,this.rgba[2]=parseInt(e.substring(2*i,3*i),16)/255,this.rgba[3]=FSS.Utils.isNumber(t)?t:this.rgba[3],this},hexify:function(e){var t=Math.ceil(255*e).toString(16);return 1===t.length&&(t="0"+t),t},format:function(){var e=this.hexify(this.rgba[0]),t=this.hexify(this.rgba[1]),i=this.hexify(this.rgba[2]);return this.hex="#"+e+t+i,this.hex}},FSS.Object=function(){this.position=FSS.Vector3.create()},FSS.Object.prototype={setPosition:function(e,t,i){return FSS.Vector3.set(this.position,e,t,i),this}},FSS.Light=function(e,t){FSS.Object.call(this),this.ambient=new FSS.Color(e||"#FFFFFF"),this.diffuse=new FSS.Color(t||"#FFFFFF"),this.ray=FSS.Vector3.create()},FSS.Light.prototype=Object.create(FSS.Object.prototype),FSS.Vertex=function(e,t,i){this.position=FSS.Vector3.create(e,t,i)},FSS.Vertex.prototype={setPosition:function(e,t,i){return FSS.Vector3.set(this.position,e,t,i),this}},FSS.Triangle=function(e,t,i){this.a=e||new FSS.Vertex,this.b=t||new FSS.Vertex,this.c=i||new FSS.Vertex,this.vertices=[this.a,this.b,this.c],this.u=FSS.Vector3.create(),this.v=FSS.Vector3.create(),this.centroid=FSS.Vector3.create(),this.normal=FSS.Vector3.create(),this.color=new FSS.Color,this.polygon=document.createElementNS(FSS.SVGNS,"polygon"),this.polygon.setAttributeNS(null,"stroke-linejoin","round"),this.polygon.setAttributeNS(null,"stroke-miterlimit","1"),this.polygon.setAttributeNS(null,"stroke-width","1"),this.computeCentroid(),this.computeNormal()},FSS.Triangle.prototype={computeCentroid:function(){return this.centroid[0]=this.a.position[0]+this.b.position[0]+this.c.position[0],this.centroid[1]=this.a.position[1]+this.b.position[1]+this.c.position[1],this.centroid[2]=this.a.position[2]+this.b.position[2]+this.c.position[2],FSS.Vector3.divideScalar(this.centroid,3),this},computeNormal:function(){return FSS.Vector3.subtractVectors(this.u,this.b.position,this.a.position),FSS.Vector3.subtractVectors(this.v,this.c.position,this.a.position),FSS.Vector3.crossVectors(this.normal,this.u,this.v),FSS.Vector3.normalise(this.normal),this}},FSS.Geometry=function(){this.vertices=[],this.triangles=[],this.dirty=!1},FSS.Geometry.prototype={update:function(){if(this.dirty){var e,t;for(e=this.triangles.length-1;e>=0;e--)t=this.triangles[e],t.computeCentroid(),t.computeNormal();this.dirty=!1}return this}},FSS.Plane=function(e,t,i,r){FSS.Geometry.call(this),this.width=e||100,this.height=t||100,this.segments=i||4,this.slices=r||4,this.segmentWidth=this.width/this.segments,this.sliceHeight=this.height/this.slices;var n,s,a,o,l,h,c,u=[],d=this.width*-.5,S=.5*this.height;for(n=0;this.segments>=n;n++)for(u.push([]),s=0;this.slices>=s;s++)c=new FSS.Vertex(d+n*this.segmentWidth,S-s*this.sliceHeight),u[n].push(c),this.vertices.push(c);for(n=0;this.segments>n;n++)for(s=0;this.slices>s;s++)a=u[n+0][s+0],o=u[n+0][s+1],l=u[n+1][s+0],h=u[n+1][s+1],t0=new FSS.Triangle(a,o,l),t1=new FSS.Triangle(l,o,h),this.triangles.push(t0,t1)},FSS.Plane.prototype=Object.create(FSS.Geometry.prototype),FSS.Material=function(e,t){this.ambient=new FSS.Color(e||"#444444"),this.diffuse=new FSS.Color(t||"#FFFFFF"),this.slave=new FSS.Color},FSS.Mesh=function(e,t){FSS.Object.call(this),this.geometry=e||new FSS.Geometry,this.material=t||new FSS.Material,this.side=FSS.FRONT,this.visible=!0},FSS.Mesh.prototype=Object.create(FSS.Object.prototype),FSS.Mesh.prototype.update=function(e,t){var i,r,n,s,a;if(this.geometry.update(),t)for(i=this.geometry.triangles.length-1;i>=0;i--){for(r=this.geometry.triangles[i],FSS.Vector4.set(r.color.rgba),n=e.length-1;n>=0;n--)s=e[n],FSS.Vector3.subtractVectors(s.ray,s.position,r.centroid),FSS.Vector3.normalise(s.ray),a=FSS.Vector3.dot(r.normal,s.ray),this.side===FSS.FRONT?a=Math.max(a,0):this.side===FSS.BACK?a=Math.abs(Math.min(a,0)):this.side===FSS.DOUBLE&&(a=Math.max(Math.abs(a),0)),FSS.Vector4.multiplyVectors(this.material.slave.rgba,this.material.ambient.rgba,s.ambient.rgba),FSS.Vector4.add(r.color.rgba,this.material.slave.rgba),FSS.Vector4.multiplyVectors(this.material.slave.rgba,this.material.diffuse.rgba,s.diffuse.rgba),FSS.Vector4.multiplyScalar(this.material.slave.rgba,a),FSS.Vector4.add(r.color.rgba,this.material.slave.rgba);FSS.Vector4.clamp(r.color.rgba,0,1)}return this},FSS.Scene=function(){this.meshes=[],this.lights=[]},FSS.Scene.prototype={add:function(e){return e instanceof FSS.Mesh&&!~this.meshes.indexOf(e)?this.meshes.push(e):e instanceof FSS.Light&&!~this.lights.indexOf(e)&&this.lights.push(e),this},remove:function(e){return e instanceof FSS.Mesh&&~this.meshes.indexOf(e)?this.meshes.splice(this.meshes.indexOf(e),1):e instanceof FSS.Light&&~this.lights.indexOf(e)&&this.lights.splice(this.lights.indexOf(e),1),this}},FSS.Renderer=function(){this.width=0,this.height=0,this.halfWidth=0,this.halfHeight=0},FSS.Renderer.prototype={setSize:function(e,t){return this.width!==e||this.height!==t?(this.width=e,this.height=t,this.halfWidth=.5*this.width,this.halfHeight=.5*this.height,this):void 0},clear:function(){return this},render:function(){return this}},FSS.CanvasRenderer=function(){FSS.Renderer.call(this),this.element=document.createElement("canvas"),this.element.style.display="block",this.context=this.element.getContext("2d"),this.setSize(this.element.width,this.element.height)},FSS.CanvasRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.CanvasRenderer.prototype.setSize=function(e,t){return FSS.Renderer.prototype.setSize.call(this,e,t),this.element.width=e,this.element.height=t,this.context.setTransform(1,0,0,-1,this.halfWidth,this.halfHeight),this},FSS.CanvasRenderer.prototype.clear=function(){return FSS.Renderer.prototype.clear.call(this),this.context.clearRect(-this.halfWidth,-this.halfHeight,this.width,this.height),this},FSS.CanvasRenderer.prototype.render=function(e){FSS.Renderer.prototype.render.call(this,e);var t,i,r,n,s;for(this.clear(),this.context.lineJoin="round",this.context.lineWidth=1,t=e.meshes.length-1;t>=0;t--)if(i=e.meshes[t],i.visible)for(i.update(e.lights,!0),r=i.geometry.triangles.length-1;r>=0;r--)n=i.geometry.triangles[r],s=n.color.format(),this.context.beginPath(),this.context.moveTo(n.a.position[0],n.a.position[1]),this.context.lineTo(n.b.position[0],n.b.position[1]),this.context.lineTo(n.c.position[0],n.c.position[1]),this.context.closePath(),this.context.strokeStyle=s,this.context.fillStyle=s,this.context.stroke(),this.context.fill();return this},FSS.WebGLRenderer=function(){FSS.Renderer.call(this),this.element=document.createElement("canvas"),this.element.style.display="block",this.vertices=null,this.lights=null;var e={preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0,stencil:!0,alpha:!0};return this.gl=this.getContext(this.element,e),this.unsupported=!this.gl,this.unsupported?"WebGL is not supported by your browser.":(this.gl.clearColor(0,0,0,0),this.gl.enable(this.gl.DEPTH_TEST),void this.setSize(this.element.width,this.element.height))},FSS.WebGLRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.WebGLRenderer.prototype.getContext=function(e,t){var i=!1;try{if(!(i=e.getContext("experimental-webgl",t)))throw"Error creating WebGL context."}catch(r){console.error(r)}return i},FSS.WebGLRenderer.prototype.setSize=function(e,t){return FSS.Renderer.prototype.setSize.call(this,e,t),this.unsupported?void 0:(this.element.width=e,this.element.height=t,this.gl.viewport(0,0,e,t),this)},FSS.WebGLRenderer.prototype.clear=function(){return FSS.Renderer.prototype.clear.call(this),this.unsupported?void 0:(this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this)},FSS.WebGLRenderer.prototype.render=function(e){if(FSS.Renderer.prototype.render.call(this,e),!this.unsupported){var t,i,r,n,s,a,o,l,h,c,u,d,S,f,m,p=!1,g=e.lights.length,F=0;if(this.clear(),this.lights!==g){if(this.lights=g,!(this.lights>0))return;this.buildProgram(g)}if(this.program){for(t=e.meshes.length-1;t>=0;t--)i=e.meshes[t],i.geometry.dirty&&(p=!0),i.update(e.lights,!1),F+=3*i.geometry.triangles.length;if(p||this.vertices!==F){this.vertices=F;for(l in this.program.attributes){for(c=this.program.attributes[l],c.data=new FSS.Array(F*c.size),S=0,t=e.meshes.length-1;t>=0;t--)for(i=e.meshes[t],r=0,n=i.geometry.triangles.length;n>r;r++)for(s=i.geometry.triangles[r],f=0,m=s.vertices.length;m>f;f++){switch(vertex=s.vertices[f],l){case"side":this.setBufferData(S,c,i.side);break;case"position":this.setBufferData(S,c,vertex.position);break;case"centroid":this.setBufferData(S,c,s.centroid);break;case"normal":this.setBufferData(S,c,s.normal);break;case"ambient":this.setBufferData(S,c,i.material.ambient.rgba);break;case"diffuse":this.setBufferData(S,c,i.material.diffuse.rgba)}S++}this.gl.bindBuffer(this.gl.ARRAY_BUFFER,c.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,c.data,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(c.location),this.gl.vertexAttribPointer(c.location,c.size,this.gl.FLOAT,!1,0,0)}}for(this.setBufferData(0,this.program.uniforms.resolution,[this.width,this.height,this.width]),a=g-1;a>=0;a--)o=e.lights[a],this.setBufferData(a,this.program.uniforms.lightPosition,o.position),this.setBufferData(a,this.program.uniforms.lightAmbient,o.ambient.rgba),this.setBufferData(a,this.program.uniforms.lightDiffuse,o.diffuse.rgba);for(h in this.program.uniforms)switch(c=this.program.uniforms[h],d=c.location,u=c.data,c.structure){case"3f":this.gl.uniform3f(d,u[0],u[1],u[2]);break;case"3fv":this.gl.uniform3fv(d,u);break;case"4fv":this.gl.uniform4fv(d,u)}}return this.gl.drawArrays(this.gl.TRIANGLES,0,this.vertices),this}},FSS.WebGLRenderer.prototype.setBufferData=function(e,t,i){if(FSS.Utils.isNumber(i))t.data[e*t.size]=i;else for(var r=i.length-1;r>=0;r--)t.data[e*t.size+r]=i[r]},FSS.WebGLRenderer.prototype.buildProgram=function(e){if(!this.unsupported){var t=FSS.WebGLRenderer.VS(e),i=FSS.WebGLRenderer.FS(e),r=t+i;if(!this.program||this.program.code!==r){var n=this.gl.createProgram(),s=this.buildShader(this.gl.VERTEX_SHADER,t),a=this.buildShader(this.gl.FRAGMENT_SHADER,i);if(this.gl.attachShader(n,s),this.gl.attachShader(n,a),this.gl.linkProgram(n),!this.gl.getProgramParameter(n,this.gl.LINK_STATUS)){var o=this.gl.getError(),l=this.gl.getProgramParameter(n,this.gl.VALIDATE_STATUS);return console.error("Could not initialise shader.\nVALIDATE_STATUS: "+l+"\nERROR: "+o),null}return this.gl.deleteShader(a),this.gl.deleteShader(s),n.code=r,n.attributes={side:this.buildBuffer(n,"attribute","aSide",1,"f"),position:this.buildBuffer(n,"attribute","aPosition",3,"v3"),centroid:this.buildBuffer(n,"attribute","aCentroid",3,"v3"),normal:this.buildBuffer(n,"attribute","aNormal",3,"v3"),ambient:this.buildBuffer(n,"attribute","aAmbient",4,"v4"),diffuse:this.buildBuffer(n,"attribute","aDiffuse",4,"v4")},n.uniforms={resolution:this.buildBuffer(n,"uniform","uResolution",3,"3f",1),lightPosition:this.buildBuffer(n,"uniform","uLightPosition",3,"3fv",e),lightAmbient:this.buildBuffer(n,"uniform","uLightAmbient",4,"4fv",e),lightDiffuse:this.buildBuffer(n,"uniform","uLightDiffuse",4,"4fv",e)},this.program=n,this.gl.useProgram(this.program),n}}},FSS.WebGLRenderer.prototype.buildShader=function(e,t){if(!this.unsupported){var i=this.gl.createShader(e);return this.gl.shaderSource(i,t),this.gl.compileShader(i),this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(console.error(this.gl.getShaderInfoLog(i)),null)}},FSS.WebGLRenderer.prototype.buildBuffer=function(e,t,i,r,n,s){var a={buffer:this.gl.createBuffer(),size:r,structure:n,data:null};switch(t){case"attribute":a.location=this.gl.getAttribLocation(e,i);break;case"uniform":a.location=this.gl.getUniformLocation(e,i)}return s&&(a.data=new FSS.Array(s*r)),a},FSS.WebGLRenderer.VS=function(e){var t=["precision mediump float;","#define LIGHTS "+e,"attribute float aSide;","attribute vec3 aPosition;","attribute vec3 aCentroid;","attribute vec3 aNormal;","attribute vec4 aAmbient;","attribute vec4 aDiffuse;","uniform vec3 uResolution;","uniform vec3 uLightPosition[LIGHTS];","uniform vec4 uLightAmbient[LIGHTS];","uniform vec4 uLightDiffuse[LIGHTS];","varying vec4 vColor;","void main() {","vColor = vec4(0.0);","vec3 position = aPosition / uResolution * 2.0;","for (int i = 0; i < LIGHTS; i++) {","vec3 lightPosition = uLightPosition[i];","vec4 lightAmbient = uLightAmbient[i];","vec4 lightDiffuse = uLightDiffuse[i];","vec3 ray = normalize(lightPosition - aCentroid);","float illuminance = dot(aNormal, ray);","if (aSide == 0.0) {","illuminance = max(illuminance, 0.0);","} else if (aSide == 1.0) {","illuminance = abs(min(illuminance, 0.0));","} else if (aSide == 2.0) {","illuminance = max(abs(illuminance), 0.0);","}","vColor += aAmbient * lightAmbient;","vColor += aDiffuse * lightDiffuse * illuminance;","}","vColor = clamp(vColor, 0.0, 1.0);","gl_Position = vec4(position, 1.0);","}"].join("\n");return t},FSS.WebGLRenderer.FS=function(){var e=["precision mediump float;","varying vec4 vColor;","void main() {","gl_FragColor = vColor;","}"].join("\n");return e},FSS.SVGRenderer=function(){FSS.Renderer.call(this),this.element=document.createElementNS(FSS.SVGNS,"svg"),this.element.setAttribute("xmlns",FSS.SVGNS),this.element.setAttribute("version","1.1"),this.element.style.display="block",this.setSize(300,150)},FSS.SVGRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.SVGRenderer.prototype.setSize=function(e,t){return FSS.Renderer.prototype.setSize.call(this,e,t),this.element.setAttribute("width",e),this.element.setAttribute("height",t),this},FSS.SVGRenderer.prototype.clear=function(){FSS.Renderer.prototype.clear.call(this);for(var e=this.element.childNodes.length-1;e>=0;e--)this.element.removeChild(this.element.childNodes[e]);return this},FSS.SVGRenderer.prototype.render=function(e){FSS.Renderer.prototype.render.call(this,e);var t,i,r,n,s,a;for(t=e.meshes.length-1;t>=0;t--)if(i=e.meshes[t],i.visible)for(i.update(e.lights,!0),r=i.geometry.triangles.length-1;r>=0;r--)n=i.geometry.triangles[r],n.polygon.parentNode!==this.element&&this.element.appendChild(n.polygon),s=this.formatPoint(n.a)+" ",s+=this.formatPoint(n.b)+" ",s+=this.formatPoint(n.c),a=this.formatStyle(n.color.format()),n.polygon.setAttributeNS(null,"points",s),n.polygon.setAttributeNS(null,"style",a);return this},FSS.SVGRenderer.prototype.formatPoint=function(e){return this.halfWidth+e.position[0]+","+(this.halfHeight-e.position[1])},FSS.SVGRenderer.prototype.formatStyle=function(e){var t="fill:"+e+";";return t+="stroke:"+e+";"};var flatSurface=$("#surface-shader");if(flatSurface.length)var MESH={width:1.2,height:1.2,depth:0,segments:16,slices:8,xRange:.8,yRange:.1,zRange:1,ambient:"#555555",diffuse:"#ffffff",speed:.002},LIGHT={count:2,xyScalar:1,zOffset:100,ambient:flatSurface.data("ambient-color"),diffuse:flatSurface.data("diffuse-color"),speed:.002,gravity:500,dampening:.95,minLimit:10,maxLimit:null,minDistance:20,maxDistance:800,autopilot:!0,draw:!1,bounds:FSS.Vector3.create(),step:FSS.Vector3.create(Math.randomInRange(.2,1),Math.randomInRange(.2,1),Math.randomInRange(.2,1))},RENDER={renderer:"canvas"},now,start=Date.now(),center=FSS.Vector3.create(),attractor=FSS.Vector3.create(),containerFSS=flatSurface[0],output=flatSurface[0],rendererFSS,sceneFSS,mesh,geometry,material,canvasRenderer;flatSurface.length&&initialise(),jQuery(document).on("ready",function(e){"use strict";var t=e(".right-details-content");e(".info-button").on("click",function(){return t.addClass("content-open"),!1}),e(".push-content-close").on("click",function(){t.removeClass("content-open")});var i=e(".left-contact-content");e(".contact-button").on("click",function(){return i.addClass("content-open"),!1}),e(".push-content-close").on("click",function(){
i.removeClass("content-open")}),t.css({"overflow-x":"hidden","overflow-y":"scroll"}),i.css({"overflow-x":"hidden","overflow-y":"scroll"}),e(".right-details-content , .left-contact-content").niceScroll({cursorwidth:"0px"}),e(".clock-countdown").downCount({date:e(".site-config").attr("data-date"),offset:10},function(){}),e("#mc-form").ajaxChimp({url:"http://devitfamily.us14.list-manage.com/subscribe/post?u=a77a312486b6e42518623c58a&amp;id=8e9f692d44",callback:function(t){"success"===t.result&&e(".subscriber-form input, .subscriber-form button").hide()}}),e(".single-gallery a").magnificPopup({type:"image",removalDelay:500,callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim"),this.st.mainClass=this.st.el.attr("data-effect")}},gallery:{enabled:!0},closeOnContentClick:!0,midClick:!0})}(jQuery)),jQuery(window).on("load",function(){"use strict";$(".preeloader").fadeOut(1e3)});